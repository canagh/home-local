#!/bin/sh

help() {
    echo `basename "$0"` -- rm which removes only empty files
    echo Usage: `basename "$0"` [FILE]...
}
error() { echo `basename "$0"`: error: $@ >&2 ; }
abort() { error "$@" ; help >&2 ; exit 1 ; }

while [ $# != 0 ] ; do
    case "$1" in
        -h | -\? | --help ) help ; exit ;;
        -v | --verbose ) verbose=t ; shift ;;
        -- ) shift ; break ;;
        -* ) abort unknown argument: "$1" ;;
        * ) break ;;
    esac
done

[ $# == 0 ] && abort missing operand
for i in "$@" ; do
    if [ ! -f "$i" ] ; then
        error no such file: \`"$i"\'
    elif [ `stat -c%s "$i"` != 0 ] ; then
        error not an empty file: \`"$i"\' >&2
    else
        rm -- "$i"
        [ $verbose ] && echo "$i"
    fi
done
