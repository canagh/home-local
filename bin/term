#!/bin/sh

action=exec
help() {
    echo `basename "$0"` -- launcher 'for' terminals of various desktop-environments
    echo Usage: `basename "$0"` [OPTS]... [--] [TERM_ARGS]...
}
error() {
    echo `basename "$0"`: error: $@ >&2
}
while [ $# != 0 ] ; do
    case "$1" in
        -h | -\? | --help ) help ; exit ;;
        --name ) action=name ; shift ;;
        --classname ) action=classname ; shift ;;
        -- ) shift ; break ;;
        * ) break ;;
    esac
done

case "$XDG_CURRENT_DESKTOP" in
    XFCE )
        name=xfce4-terminal
        classname=Xfce4-terminal # or xfce4-terminal
        ;;
    gnome )
        name=gnome-terminal
        classname=Gnome-terminal # or gnome-terminal-server
        ;;
    * )
        error unknown desktop-environment: \`"$XDG_CURRENT_DESKTOP"\'
        available() { which "$*" >/dev/null ; }
        if available urxvt ; then
            name=urxvt
            classname=URxvt # or urxvt
        elif available xterm ; then
            name=xterm
            classname=XTerm # or xterm
        else
            error No terminal-emulator found
            exit 1
        fi
        ;;
esac

case "$action" in
    name ) echo $name ;;
    classname ) echo $classname ;;
    exec | * ) exec $name "$@" ;;
esac
